module.exports=[70069,a=>{"use strict";function b(a){let b=[];return a.part_number&&0!==a.part_number.trim().length?a.part_number.trim().length<2&&b.push({field:"part_number",message:"Part number must be at least 2 characters"}):b.push({field:"part_number",message:"Part number is required"}),a.product_type?["AIR_FILTER","OIL_FILTER","AIR_OIL_SEPARATOR"].includes(a.product_type)||b.push({field:"product_type",message:"Product type must be AIR_FILTER, OIL_FILTER, or AIR_OIL_SEPARATOR"}):b.push({field:"product_type",message:"Product type is required"}),a.description&&a.description.trim().length>500&&b.push({field:"description",message:"Description must be 500 characters or less"}),{isValid:0===b.length,errors:b}}function c(a){let b=[];if(a.product_id||b.push({field:"product_id",message:"Please select a product"}),a.quantity){let c="string"==typeof a.quantity?parseInt(a.quantity,10):a.quantity;(isNaN(c)||c<=0)&&b.push({field:"quantity",message:"Quantity must be a positive number"})}else b.push({field:"quantity",message:"Quantity is required"});return a.remarks&&a.remarks.trim().length>500&&b.push({field:"remarks",message:"Remarks must be 500 characters or less"}),{isValid:0===b.length,errors:b}}a.s(["validateBatch",()=>c,"validateProduct",()=>b])},8298,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(70069);function f(){let a=(0,d.useRouter)(),f=(0,d.useSearchParams)(),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)({part_number:"",product_type:"",description:""}),[o,p]=(0,c.useState)([]);(0,c.useEffect)(()=>{let a=f.get("part_number");a&&n(b=>({...b,part_number:a.toUpperCase()}))},[f]);let q=a=>{let{name:b,value:c}=a.target,d="part_number"===b?c.toUpperCase():c;n(a=>({...a,[b]:d}))},r=async b=>{b.preventDefault();let c=(0,e.validateProduct)(m);if(!c.isValid)return void p(c.errors);h(!0),j(null),p([]);try{let b=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}),c=await b.json();if(!b.ok)return void j(c.error||"Failed to create product");l(!0),n({part_number:"",product_type:"",description:""}),setTimeout(()=>{a.push("/batches/add")},2e3)}catch(a){j("An unexpected error occurred"),console.error(a)}finally{h(!1)}};return(0,b.jsx)("div",{className:"bg-white flex flex-col items-center p-4",style:{fontFamily:"var(--font-geist-sans)"},children:(0,b.jsxs)("div",{className:"w-full max-w-md",children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsx)("h1",{className:"text-2xl font-semibold text-black tracking-tight",children:"New Product"})}),i&&(0,b.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm font-medium",children:i}),k&&(0,b.jsx)("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded text-green-700 text-sm font-medium",children:"âœ“ Product created. Redirecting..."}),(0,b.jsxs)("form",{onSubmit:r,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"part_number",className:"block text-xs font-semibold text-slate-900 uppercase tracking-wide mb-2",children:"Part Number"}),(0,b.jsx)("input",{id:"part_number",name:"part_number",type:"text",enterKeyHint:"done",value:m.part_number,onChange:q,onKeyDown:a=>{"Enter"===a.key&&a.currentTarget.blur()},placeholder:"e.g., AB123",autoComplete:"off",className:`w-full px-3 py-2 border rounded text-base bg-white text-black placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-all uppercase font-mono tracking-widest ${o.some(a=>"part_number"===a.field)?"border-red-300 bg-red-50":"border-slate-300"}`,style:{fontFamily:"var(--font-jetbrains-mono)"}}),o.some(a=>"part_number"===a.field)&&(0,b.jsx)("p",{className:"text-xs text-red-600 mt-1",children:o.find(a=>"part_number"===a.field)?.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-semibold text-slate-900 uppercase tracking-wide mb-3",children:["Type ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)("div",{className:"flex gap-2 flex-wrap",children:[{value:"AIR_FILTER",label:"Air Filter"},{value:"OIL_FILTER",label:"Oil Filter"},{value:"AIR_OIL_SEPARATOR",label:"Air Oil Separator"}].map(a=>(0,b.jsxs)("label",{className:`px-4 py-2 border rounded-full cursor-pointer text-sm font-medium transition-all ${m.product_type===a.value?"bg-black text-white border-black":"bg-white text-black border-slate-300 hover:border-slate-500 hover:bg-slate-50"}`,children:[(0,b.jsx)("input",{type:"radio",name:"product_type",value:a.value,checked:m.product_type===a.value,onChange:a=>{var b;return b=a.target.value,void n(a=>({...a,product_type:b}))},className:"hidden"}),(0,b.jsx)("span",{children:a.label})]},a.value))}),o.some(a=>"product_type"===a.field)&&(0,b.jsx)("p",{className:"text-xs text-red-600 mt-1",children:o.find(a=>"product_type"===a.field)?.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{htmlFor:"description",className:"block text-xs font-semibold text-slate-900 uppercase tracking-wide mb-2",children:["Description ",(0,b.jsx)("span",{className:"font-normal text-slate-500",children:"(Optional)"})]}),(0,b.jsx)("textarea",{id:"description",name:"description",enterKeyHint:"done",value:m.description,onChange:q,placeholder:"Details...",rows:3,className:`w-full px-3 py-2 border rounded text-base bg-white text-black placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-all resize-none ${o.some(a=>"description"===a.field)?"border-red-300 bg-red-50":"border-slate-300"}`}),o.some(a=>"description"===a.field)&&(0,b.jsx)("p",{className:"text-xs text-red-600 mt-1",children:o.find(a=>"description"===a.field)?.message})]}),(0,b.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,b.jsx)("button",{type:"submit",disabled:g,className:"flex-1 px-4 py-3 bg-black text-white font-semibold rounded hover:bg-slate-900 disabled:bg-slate-400 disabled:cursor-not-allowed transition-colors text-sm tracking-wide uppercase",children:g?"Creating...":"Create"}),(0,b.jsx)("button",{type:"button",onClick:()=>a.back(),className:"flex-1 px-4 py-3 bg-slate-200 text-slate-900 font-semibold rounded hover:bg-slate-300 transition-colors text-sm tracking-wide uppercase",children:"Cancel"})]})]})]})})}function g(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"bg-white flex items-center justify-center p-4 min-h-screen",children:"Loading..."}),children:(0,b.jsx)(f,{})})}a.s(["default",()=>g],8298)}];

//# sourceMappingURL=src_6d396f04._.js.map