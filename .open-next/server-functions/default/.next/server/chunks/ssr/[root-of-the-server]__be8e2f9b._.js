module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},60168,a=>{"use strict";var b=a.i(7997);async function c(){try{let a=process.env.VERCEL_URL?`https://${process.env.VERCEL_URL}`:"http://localhost:3000",[b,c]=await Promise.all([fetch(`${a}/api/batches`,{cache:"no-store"}),fetch(`${a}/api/products`,{cache:"no-store"})]),d=await b.json(),e=await c.json(),f=d?.length||0,g=(d||[]).reduce((a,b)=>a+(b.quantity||0),0),h=e?.length||0,i={};return(e||[]).forEach(a=>{i[a.product_type]=(i[a.product_type]||0)+1}),{batches:(d||[]).slice(0,5),products:(e||[]).slice(0,5),totalBatches:f,totalQuantity:g,totalProducts:h,productTypes:i}}catch(a){return console.error(a),{batches:[],products:[],totalBatches:0,totalQuantity:0,totalProducts:0,productTypes:{}}}}let d={AIR_FILTER:"Air Filter",OIL_FILTER:"Oil Filter",AIR_OIL_SEPARATOR:"Air Oil Separator"};async function e(){let a=await c(),e=a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric"});return(0,b.jsx)("div",{className:"bg-white min-h-screen p-4",style:{fontFamily:"var(--font-geist-sans)"},children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-black mb-1 tracking-tight",children:"Production Tracking"}),(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"Dashboard Overview"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-8",children:[(0,b.jsxs)("div",{className:"bg-white border border-slate-200 rounded p-4",children:[(0,b.jsx)("div",{className:"text-xs text-slate-600 font-semibold uppercase tracking-wide",children:"Total Batches"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-black mt-1",children:a.totalBatches})]}),(0,b.jsxs)("div",{className:"bg-white border border-slate-200 rounded p-4",children:[(0,b.jsx)("div",{className:"text-xs text-slate-600 font-semibold uppercase tracking-wide",children:"Total Quantity"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-black mt-1",children:a.totalQuantity})]}),(0,b.jsxs)("div",{className:"bg-white border border-slate-200 rounded p-4",children:[(0,b.jsx)("div",{className:"text-xs text-slate-600 font-semibold uppercase tracking-wide",children:"Total Products"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-black mt-1",children:a.totalProducts})]}),(0,b.jsxs)("div",{className:"bg-white border border-slate-200 rounded p-4",children:[(0,b.jsx)("div",{className:"text-xs text-slate-600 font-semibold uppercase tracking-wide",children:"Product Types"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-black mt-1",children:Object.keys(a.productTypes).length})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-8",children:[(0,b.jsx)("a",{href:"/batches/add",className:"px-4 py-3 bg-black text-white font-semibold text-center rounded hover:bg-slate-900 transition-colors text-sm tracking-wide uppercase",children:"+ Log Batch"}),(0,b.jsx)("a",{href:"/products/add",className:"px-4 py-3 bg-black text-white font-semibold text-center rounded hover:bg-slate-900 transition-colors text-sm tracking-wide uppercase",children:"+ Product"}),(0,b.jsx)("a",{href:"/batches",className:"px-4 py-3 bg-slate-200 text-black font-medium text-center rounded hover:bg-slate-300 transition-colors text-sm",children:"All Batches"}),(0,b.jsx)("a",{href:"/products",className:"px-4 py-3 bg-slate-200 text-black font-medium text-center rounded hover:bg-slate-300 transition-colors text-sm",children:"All Products"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"border border-slate-200 rounded overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-slate-50 border-b border-slate-200 px-4 py-3",children:(0,b.jsx)("h2",{className:"text-sm font-semibold text-black uppercase tracking-wide",children:"Recent Batches"})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-xs",children:[(0,b.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-black",children:"Code"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-black",children:"Part"}),(0,b.jsx)("th",{className:"px-3 py-2 text-right font-semibold text-black",children:"Qty"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-black",children:"Date"})]})}),(0,b.jsx)("tbody",{children:a.batches.length>0?a.batches.map((c,d)=>(0,b.jsxs)("tr",{className:d!==a.batches.length-1?"border-b border-slate-100":"",children:[(0,b.jsx)("td",{className:"px-3 py-2 font-mono font-medium text-black",children:c.batch_code}),(0,b.jsx)("td",{className:"px-3 py-2 text-black",children:c.part_number||"-"}),(0,b.jsx)("td",{className:"px-3 py-2 text-right text-black font-medium",children:c.quantity}),(0,b.jsx)("td",{className:"px-3 py-2 text-slate-600",children:e(c.created_at)})]},c.id)):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:4,className:"px-3 py-4 text-center text-slate-500 text-xs",children:"No batches yet"})})})]})})]}),(0,b.jsxs)("div",{className:"border border-slate-200 rounded overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-slate-50 border-b border-slate-200 px-4 py-3",children:(0,b.jsx)("h2",{className:"text-sm font-semibold text-black uppercase tracking-wide",children:"Recent Products"})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-xs",children:[(0,b.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-black",children:"Part No."}),(0,b.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-black",children:"Type"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-black",children:"Created"})]})}),(0,b.jsx)("tbody",{children:a.products.length>0?a.products.map((c,f)=>(0,b.jsxs)("tr",{className:f!==a.products.length-1?"border-b border-slate-100":"",children:[(0,b.jsx)("td",{className:"px-3 py-2 font-mono font-medium text-black",children:c.part_number}),(0,b.jsx)("td",{className:"px-3 py-2 text-black text-xs",children:d[c.product_type]||c.product_type}),(0,b.jsx)("td",{className:"px-3 py-2 text-slate-600",children:e(c.created_at)})]},c.id)):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:3,className:"px-3 py-4 text-center text-slate-500 text-xs",children:"No products yet"})})})]})})]})]}),Object.keys(a.productTypes).length>0&&(0,b.jsxs)("div",{className:"mt-6 border border-slate-200 rounded p-4",children:[(0,b.jsx)("h2",{className:"text-sm font-semibold text-black uppercase tracking-wide mb-3",children:"Product Types"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-4",children:Object.entries(a.productTypes).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 bg-black rounded-full"}),(0,b.jsxs)("span",{className:"text-sm text-black font-medium",children:[d[a]||a,": ",(0,b.jsx)("span",{className:"font-bold",children:c})]})]},a))})]})]})})}a.s(["default",()=>e])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__be8e2f9b._.js.map