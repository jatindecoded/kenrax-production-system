(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95018,e=>{"use strict";function t(e){let t=[];return e.part_number&&0!==e.part_number.trim().length?e.part_number.trim().length<2&&t.push({field:"part_number",message:"Part number must be at least 2 characters"}):t.push({field:"part_number",message:"Part number is required"}),e.product_type?["AIR_FILTER","OIL_FILTER","AIR_OIL_SEPARATOR"].includes(e.product_type)||t.push({field:"product_type",message:"Product type must be AIR_FILTER, OIL_FILTER, or AIR_OIL_SEPARATOR"}):t.push({field:"product_type",message:"Product type is required"}),e.description&&e.description.trim().length>500&&t.push({field:"description",message:"Description must be 500 characters or less"}),{isValid:0===t.length,errors:t}}function r(e){let t=[];if(e.product_id||t.push({field:"product_id",message:"Please select a product"}),e.quantity){let r="string"==typeof e.quantity?parseInt(e.quantity,10):e.quantity;(isNaN(r)||r<=0)&&t.push({field:"quantity",message:"Quantity must be a positive number"})}else t.push({field:"quantity",message:"Quantity is required"});return e.remarks&&e.remarks.trim().length>500&&t.push({field:"remarks",message:"Remarks must be 500 characters or less"}),{isValid:0===t.length,errors:t}}e.s(["validateBatch",()=>r,"validateProduct",()=>t])},15344,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(18566),a=e.i(95018);function l(){let e=(0,s.useRouter)(),[l,i]=(0,r.useState)(!1),[n,d]=(0,r.useState)(null),[o,c]=(0,r.useState)(!1),[u,p]=(0,r.useState)({part_number:"",product_type:"",description:""}),[m,b]=(0,r.useState)([]),x=e=>{let{name:t,value:r}=e.target,s="part_number"===t?r.toUpperCase():r;p(e=>({...e,[t]:s}))},h=async t=>{t.preventDefault();let r=(0,a.validateProduct)(u);if(!r.isValid)return void b(r.errors);i(!0),d(null),b([]);try{let t=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}),r=await t.json();if(!t.ok)return void d(r.error||"Failed to create product");c(!0),p({part_number:"",product_type:"AF",description:""}),setTimeout(()=>{e.push("/products")},2e3)}catch(e){d("An unexpected error occurred"),console.error(e)}finally{i(!1)}};return(0,t.jsx)("div",{className:"bg-white flex flex-col items-center justify-center p-4",style:{fontFamily:"var(--font-geist-sans)"},children:(0,t.jsxs)("div",{className:"w-full max-w-md my-auto",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("h1",{className:"text-2xl font-semibold text-black tracking-tight",children:"New Product"})}),n&&(0,t.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm font-medium",children:n}),o&&(0,t.jsx)("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded text-green-700 text-sm font-medium",children:"âœ“ Product created. Redirecting..."}),(0,t.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"part_number",className:"block text-xs font-semibold text-slate-900 uppercase tracking-wide mb-2",children:"Part Number"}),(0,t.jsx)("input",{id:"part_number",name:"part_number",type:"text",value:u.part_number,onChange:x,placeholder:"e.g., AB123",autoComplete:"off",className:`w-full px-3 py-2 border rounded text-sm bg-white text-black placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-all uppercase font-mono tracking-widest ${m.some(e=>"part_number"===e.field)?"border-red-300 bg-red-50":"border-slate-300"}`,style:{fontFamily:"var(--font-jetbrains-mono)"}}),m.some(e=>"part_number"===e.field)&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:m.find(e=>"part_number"===e.field)?.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs font-semibold text-slate-900 uppercase tracking-wide mb-3",children:["Type ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)("div",{className:"flex gap-2 flex-wrap",children:[{value:"AIR_FILTER",label:"Air Filter"},{value:"OIL_FILTER",label:"Oil Filter"},{value:"AIR_OIL_SEPARATOR",label:"Air Oil Separator"}].map(e=>(0,t.jsxs)("label",{className:`px-4 py-2 border rounded-full cursor-pointer text-sm font-medium transition-all ${u.product_type===e.value?"bg-black text-white border-black":"bg-white text-black border-slate-300 hover:border-slate-500 hover:bg-slate-50"}`,children:[(0,t.jsx)("input",{type:"radio",name:"product_type",value:e.value,checked:u.product_type===e.value,onChange:e=>{var t;return t=e.target.value,void p(e=>({...e,product_type:t}))},className:"hidden"}),(0,t.jsx)("span",{children:e.label})]},e.value))}),m.some(e=>"product_type"===e.field)&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:m.find(e=>"product_type"===e.field)?.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"description",className:"block text-xs font-semibold text-slate-900 uppercase tracking-wide mb-2",children:["Description ",(0,t.jsx)("span",{className:"font-normal text-slate-500",children:"(Optional)"})]}),(0,t.jsx)("textarea",{id:"description",name:"description",value:u.description,onChange:x,placeholder:"Details...",rows:3,className:`w-full px-3 py-2 border rounded text-sm bg-white text-black placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-all resize-none ${m.some(e=>"description"===e.field)?"border-red-300 bg-red-50":"border-slate-300"}`}),m.some(e=>"description"===e.field)&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:m.find(e=>"description"===e.field)?.message})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsx)("button",{type:"submit",disabled:l,className:"flex-1 px-4 py-3 bg-black text-white font-semibold rounded hover:bg-slate-900 disabled:bg-slate-400 disabled:cursor-not-allowed transition-colors text-sm tracking-wide uppercase",children:l?"Creating...":"Create"}),(0,t.jsx)("button",{type:"button",onClick:()=>e.back(),className:"flex-1 px-4 py-3 bg-slate-200 text-slate-900 font-semibold rounded hover:bg-slate-300 transition-colors text-sm tracking-wide uppercase",children:"Cancel"})]})]})]})})}e.s(["default",()=>l])}]);