(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";var t=e.i(43476),s=e.i(71645);let a={AIR_FILTER:"Air Filter",OIL_FILTER:"Oil Filter",AIR_OIL_SEPARATOR:"Air Oil Separator"};function l(){let[e,l]=(0,s.useState)({batches:[],products:[],totalBatches:0,totalQuantity:0,totalProducts:0,productTypes:{}});(0,s.useEffect)(()=>{let e=!1;return(async()=>{try{let[t,s]=await Promise.all([fetch("/api/batches"),fetch("/api/products")]),a=await t.json(),c=await s.json(),r=a.length,d=a.reduce((e,t)=>e+(t.quantity||0),0),i=c.length,o={};c.forEach(e=>{o[e.product_type]=(o[e.product_type]||0)+1}),e||l({batches:a.slice(0,5),products:c.slice(0,5),totalBatches:r,totalQuantity:d,totalProducts:i,productTypes:o})}catch(e){console.error("Failed to load stats:",e)}})(),()=>{e=!0}},[]);let c=e=>(e instanceof Date?e:new Date(e??"")).toLocaleDateString("en-US",{month:"short",day:"numeric"});return(0,t.jsx)("div",{className:"bg-white p-4",style:{fontFamily:"var(--font-geist-sans)"},children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-black mb-1 tracking-tight",children:"Production Tracking"}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Dashboard Overview"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-8",children:[(0,t.jsxs)("div",{className:"bg-white border border-slate-200 rounded p-4",children:[(0,t.jsx)("div",{className:"text-xs text-slate-600 font-semibold uppercase tracking-wide",children:"Total Batches"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-black mt-1",children:e.totalBatches})]}),(0,t.jsxs)("div",{className:"bg-white border border-slate-200 rounded p-4",children:[(0,t.jsx)("div",{className:"text-xs text-slate-600 font-semibold uppercase tracking-wide",children:"Total Quantity"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-black mt-1",children:e.totalQuantity})]}),(0,t.jsxs)("div",{className:"bg-white border border-slate-200 rounded p-4",children:[(0,t.jsx)("div",{className:"text-xs text-slate-600 font-semibold uppercase tracking-wide",children:"Total Products"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-black mt-1",children:e.totalProducts})]}),(0,t.jsxs)("div",{className:"bg-white border border-slate-200 rounded p-4",children:[(0,t.jsx)("div",{className:"text-xs text-slate-600 font-semibold uppercase tracking-wide",children:"Product Types"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-black mt-1",children:Object.keys(e.productTypes).length})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-8",children:[(0,t.jsx)("a",{href:"/batches/add",className:"px-4 py-3 bg-black text-white font-semibold text-center rounded hover:bg-slate-900 transition-colors text-sm tracking-wide uppercase",children:"+ Log Batch"}),(0,t.jsx)("a",{href:"/products/add",className:"px-4 py-3 bg-black text-white font-semibold text-center rounded hover:bg-slate-900 transition-colors text-sm tracking-wide uppercase",children:"+ Product"}),(0,t.jsx)("a",{href:"/batches",className:"px-4 py-3 bg-slate-200 text-black font-medium text-center rounded hover:bg-slate-300 transition-colors text-sm",children:"All Batches"}),(0,t.jsx)("a",{href:"/products",className:"px-4 py-3 bg-slate-200 text-black font-medium text-center rounded hover:bg-slate-300 transition-colors text-sm",children:"All Products"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"border border-slate-200 rounded overflow-hidden",children:[(0,t.jsx)("div",{className:"bg-slate-50 border-b border-slate-200 px-4 py-3",children:(0,t.jsx)("h2",{className:"text-sm font-semibold text-black uppercase tracking-wide",children:"Recent Batches"})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-xs",children:[(0,t.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-black",children:"Code"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-black",children:"Part"}),(0,t.jsx)("th",{className:"px-3 py-2 text-right font-semibold text-black",children:"Qty"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-black",children:"Date"})]})}),(0,t.jsx)("tbody",{children:e.batches.length>0?e.batches.map((s,a)=>(0,t.jsxs)("tr",{className:a!==e.batches.length-1?"border-b border-slate-100":"",children:[(0,t.jsx)("td",{className:"px-3 py-2 font-mono font-medium text-black",children:s.batch_code}),(0,t.jsx)("td",{className:"px-3 py-2 text-black",children:s.part_number||"-"}),(0,t.jsx)("td",{className:"px-3 py-2 text-right text-black font-medium",children:s.quantity}),(0,t.jsx)("td",{className:"px-3 py-2 text-slate-600",children:c(s.created_at)})]},s.id)):(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"px-3 py-4 text-center text-slate-500 text-xs",children:"No batches yet"})})})]})})]}),(0,t.jsxs)("div",{className:"border border-slate-200 rounded overflow-hidden",children:[(0,t.jsx)("div",{className:"bg-slate-50 border-b border-slate-200 px-4 py-3",children:(0,t.jsx)("h2",{className:"text-sm font-semibold text-black uppercase tracking-wide",children:"Recent Products"})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-xs",children:[(0,t.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-black",children:"Part No."}),(0,t.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-black",children:"Type"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-black",children:"Created"})]})}),(0,t.jsx)("tbody",{children:e.products.length>0?e.products.map((s,l)=>(0,t.jsxs)("tr",{className:l!==e.products.length-1?"border-b border-slate-100":"",children:[(0,t.jsx)("td",{className:"px-3 py-2 font-mono font-medium text-black",children:s.part_number}),(0,t.jsx)("td",{className:"px-3 py-2 text-black text-xs",children:a[s.product_type]||s.product_type}),(0,t.jsx)("td",{className:"px-3 py-2 text-slate-600",children:c(s.created_at)})]},s.id)):(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:3,className:"px-3 py-4 text-center text-slate-500 text-xs",children:"No products yet"})})})]})})]})]}),Object.keys(e.productTypes).length>0&&(0,t.jsxs)("div",{className:"mt-6 border border-slate-200 rounded p-4",children:[(0,t.jsx)("h2",{className:"text-sm font-semibold text-black uppercase tracking-wide mb-3",children:"Product Types"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-4",children:Object.entries(e.productTypes).map(([e,s])=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-black rounded-full"}),(0,t.jsxs)("span",{className:"text-sm text-black font-medium",children:[a[e]||e,":"," ",(0,t.jsx)("span",{className:"font-bold",children:s})]})]},e))})]})]})})}e.s(["default",()=>l])}]);